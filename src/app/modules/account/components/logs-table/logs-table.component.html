<article>
  <p-table #dt [value]="logList" styleClass="p-datatable-gridlines" class="w-full fadein animation-duration-700"
    selectionMode="single" responsiveLayout="scroll"
    [globalFilterFields]="['userId', 'itemId', 'date', 'action', 'moduleId']"
    [paginator]="true" [rows]="25"
    [responsiveLayout]="'scroll'">
    <ng-template pTemplate="caption">
      <section class="w-full flex justify-content-between gap-3">
        <section class="w-full">
          <div *ngIf="logList.length > 0" class="p-input-icon-left w-full">
            <i class="pi pi-search"></i>

            <input class="bg-transparent w-full md:w-20rem" pInputText type="text" placeholder="Buscar por identificadores"
              (input)="applyFilterGlobal($event, 'contains')" />
          </div>
        </section>
      </section>
    </ng-template>

    <ng-template pTemplate="header">
      <tr class="w-full">
        <th class="hidden-column text-center w-1rem" [style.border-top-left-radius]="'10px'"> # </th>

        <th class="column-border-left-top">
          Usuario
        </th>

        <th class="text-center">
          Acción
        </th>

        <th class="hidden-column text-center">
          Módulo
        </th>

        <th class="text-center" [style.border-top-right-radius]="'10px'">
          Fecha
        </th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-item>
      <tr class="ss-txt--black-lighten">
        <td class="hidden-column text-center cursor-pointer">
          <span class="p-column-title"> # {{ logList.indexOf(item) + 1 }} </span>
          <span>
            {{ logList.indexOf(item) + 1 }}
          </span>
        </td>

        <td class="cursor-pointer">
          <section class="flex gap-1 align-items-center">
            <span>
              {{item.userId}}
            </span>
          </section>
        </td>

        <td class="text-center cursor-pointer">
          <span>
            {{item.action}}
          </span>
        </td>

        <td class="hidden-column text-center cursor-pointer">
          <span>
            {{item.moduleId}}
          </span>
        </td>

        <td>
          <section class="flex gap-3 md:gap-5 py-3 lg:py-0 justify-content-end px-3">
            {{toDate(item.date)}}
          </section>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="8">
          <div class="w-full bg-white h-30rem">
            <announcement [iconName]="'pi-inbox'" [text]="'No hay elementos disponibles'" [spin]="false">
            </announcement>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
</article>
