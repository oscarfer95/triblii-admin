<article *ngIf="!isLoading" [formGroup]="form" class="sm:p-3 flex flex-column gap-5">
  <section class="w-full">
    <h4>
      Categorías
    </h4>

    <div class="w-full mt-2 mb-3 ss-txt--black-lighten text-sm">
      Asocia una o más categorías para poder filtrar la búsqueda en la plataforma.
    </div>

    <section *ngIf="mainCategories && this.form.get('mainCategories')?.value">
      <p-multiSelect class="w-full" [options]="mainCategories" optionLabel="name" display="chip" optionValue="id"
        formControlName="mainCategories" placeholder="Selecciona categorías" (onChange)="markAsTouched()">
      </p-multiSelect>
    </section>
  </section>

  <section class="w-full">
    <h4>
      Sub categorías
    </h4>

    <section *ngIf="categories && this.form.get('categories')?.value" class="mt-2">
      <p-multiSelect class="w-full" [options]="categories" optionLabel="name" display="chip" optionValue="id"
        formControlName="categories" placeholder="Selecciona categorías" (onChange)="markAsTouched(); getTags()">
      </p-multiSelect>
    </section>
  </section>

  <section class="w-full">
    <h4>
      Tags
    </h4>

    <div class="w-full mt-2 mb-3 ss-txt--black-lighten text-sm">
      Asocia uno o más tags, estos sirven para segmentar aun más la búsqueda.
    </div>

    <section *ngIf="tags && this.form.get('tags')?.value">
      <p-multiSelect [options]="tags" class="w-full" optionLabel="name" display="chip" optionValue="id"
        formControlName="tags" placeholder="Selecciona tags">
      </p-multiSelect>
    </section>
  </section>

  <p-divider class="p-divider--grey">
  </p-divider>

  <section class="w-full flex flex-column gap-3 md:gap-2">
    <section class="flex justify-content-between align-items-center">
      <h4>
        <i class="pi pi-star-fill text-sm ss-txt--warning mr-2"></i>
        Destacado
      </h4>

      <p-inputSwitch *ngIf="this.form.get('isFeatured')?.value" formControlName="isFeatured">
      </p-inputSwitch>
    </section>

    <section class="w-full ss-txt--black-lighten text-sm">
      Cuando la opción está activa, el lugar aparecerá destacado en la plataforma.
    </section>
  </section>

  <p-divider class="p-divider--grey">
  </p-divider>

  <section class="w-full flex flex-column gap-3 md:gap-2">
    <section class="flex justify-content-between align-items-center">
      <h4>
        <i *ngIf="!form.get('available')?.value" class="pi pi-ban text-sm ss-txt--red mr-2">
        </i>

        <i *ngIf="form.get('available')?.value" class="pi pi-check text-sm ss-txt--green mr-2">
        </i>

        <span *ngIf="form.get('available')?.value">
          Activo
        </span>        
        
        <span *ngIf="!form.get('available')?.value">
          Inactivo
        </span>
      </h4>

      <p-inputSwitch *ngIf="this.form.get('available')?.value" formControlName="available">
      </p-inputSwitch>
    </section>

    <section *ngIf="form.get('available')?.value" class="w-full ss-txt--black-lighten text-sm fadein animation-duration-500">
      Cuando la opción está activa, el lugar aparecerá en la plataforma.
    </section>    
    
    <section *ngIf="!form.get('available')?.value" class="w-full ss-txt--black-lighten text-sm fadein animation-duration-500">
      Cuando la opción está desactivada, el lugar <strong>NO</strong> aparecerá en la plataforma.
    </section>
  </section>
</article>